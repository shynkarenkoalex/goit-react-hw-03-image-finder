{"version":3,"sources":["components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","components/services/galleryApi.js","components/App.js","index.js"],"names":["Loader","type","color","height","width","ImageGalleryItem","imgUrl","altName","largeImageUrl","onSelectImage","className","src","alt","data-large-image-url","onClick","ImageGallery","gallery","onViewLargeImage","map","id","webformatURL","tags","largeImageURL","key","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","autoComplete","autoFocus","placeholder","onChange","Component","Button","onFetchNextImages","Modal","handleKeyDown","code","onCloseModal","window","addEventListener","selectLinkImage","query","page","Axios","get","then","response","images","data","hits","totalImages","total","App","loading","searchQuery","error","linkLargeImage","fetchGallery","galleryApi","prevState","catch","finally","handleSearchBarSubmit","handleShowModal","dataset","handleCloseModal","prevProps","prevQuery","nextQuery","prevPage","nextPage","scrollTo","top","document","documentElement","scrollHeight","behavior","length","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1466b4d0.chunk.js","sourcesContent":["import React from 'react';\r\nimport Spinner from 'react-loader-spinner';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function Loader() {\r\n    return (\r\n        <Spinner\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n        />\r\n    );\r\n}\r\n","import React from 'react';\r\nimport './ImageGalleryItem.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({\r\n  imgUrl,\r\n  altName,\r\n  largeImageUrl,\r\n  onSelectImage,\r\n}) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={imgUrl}\r\n        alt={altName}\r\n        className=\"ImageGalleryItem-image\"\r\n        data-large-image-url={largeImageUrl}\r\n        onClick={onSelectImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  imgUrl: PropTypes.string.isRequired,\r\n  altName: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string,\r\n  onSelectImage: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport './ImageGallery.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGallery({ gallery, onViewLargeImage }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {gallery.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          imgUrl={webformatURL}\r\n          key={id}\r\n          altName={tags}\r\n          largeImageUrl={largeImageURL}\r\n          onSelectImage={onViewLargeImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(Object).isRequired,\r\n  onViewLargeImage: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport './Searchbar.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './Button.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({ onFetchNextImages }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onFetchNextImages}>\r\n      Loard more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onFetchNextImages: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport './Modal.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    selectLinkImage: PropTypes.string.isRequired,\r\n    onCloseModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n          <img src={this.props.selectLinkImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Axios from 'axios';\r\n\r\nconst fetchGalleryWithQuery = (query, page = 1) => {\r\n  return Axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=15810105-9185c632070137508165f7ee5&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => ({\r\n    images: response.data.hits,\r\n    totalImages: response.data.total,\r\n  }));\r\n};\r\n\r\nexport default {\r\n  fetchGalleryWithQuery,\r\n};\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Loader from './Loader';\r\nimport ImageGallery from './ImageGallery';\r\nimport Searchbar from './Searchbar';\r\nimport Button from './Button';\r\nimport Modal from './Modal';\r\nimport galleryApi from './services/galleryApi';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n    searchQuery: '',\r\n    error: null,\r\n    page: 1,\r\n    total: 0,\r\n    linkLargeImage: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchGallery();\r\n    }\r\n    if (prevPage !== nextPage) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchGallery = () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.setState({ loading: true });\r\n    galleryApi\r\n      .fetchGalleryWithQuery(searchQuery, page)\r\n      .then(({ images, totalImages }) =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1,\r\n          total: totalImages,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchBarSubmit = searchQuery => {\r\n    this.setState({ searchQuery, images: [], page: 1 });\r\n  };\r\n\r\n  handleShowModal = e =>\r\n    this.setState({ linkLargeImage: e.target.dataset.largeImageUrl });\r\n\r\n  handleCloseModal = e => this.setState({ linkLargeImage: '' });\r\n\r\n  render() {\r\n    const { images, loading, error, total, linkLargeImage } = this.state;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.handleSearchBarSubmit} />\r\n        {loading && <Loader />}\r\n        {images.length > 0 && (\r\n          <ImageGallery\r\n            gallery={images}\r\n            onViewLargeImage={this.handleShowModal}\r\n          />\r\n        )}\r\n        {images.length > 0 && !loading && total !== images.length && (\r\n          <Button onFetchNextImages={this.fetchGallery} />\r\n        )}\r\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n        {linkLargeImage && (\r\n          <Modal\r\n            selectLinkImage={linkLargeImage}\r\n            onCloseModal={this.handleCloseModal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './base.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}